{"ast":null,"code":"import _slicedToArray from \"/Users/malcolmlaing/dev/favorite-books/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/malcolmlaing/dev/favorite-books/packages/client/src/App.js\";\nimport React from \"react\";\nimport Item from \"./components/item\";\nimport \"./App.css\";\n\nfunction App() {\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        authors = _React$useState2[0],\n        setAuthors = _React$useState2[1];\n\n  const _React$useState3 = React.useState(\"\"),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        value = _React$useState4[0],\n        setValue = _React$useState4[1];\n\n  React.useEffect(() => {\n    fetch(\"http://localhost:3001/authors\").then(res => res.json()).then(result => {\n      setAuthors(result);\n    });\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (value && value !== \"\") {\n      const data = {\n        name: value\n      };\n      fetch(\"http://localhost:3001/authors\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(res => res.json()).then(result => {\n        console.log(result);\n        setAuthors(authors.concat([result]));\n      });\n    }\n  };\n\n  const handleDelete = id => {\n    fetch(\"http://localhost:3001/authors/\".concat(id), {\n      method: \"DELETE\"\n    }).then(res => res.json()).then(result => {\n      setAuthors(authors.filter(author => author.id !== id));\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"App-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, authors.map(author => React.createElement(Item, {\n    key: author.id,\n    value: author.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }))), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    value: value,\n    onChange: event => setValue(event.target.value),\n    placeholder: \"input author name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Submit\"))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/malcolmlaing/dev/favorite-books/packages/client/src/App.js"],"names":["React","Item","App","useState","authors","setAuthors","value","setValue","useEffect","fetch","then","res","json","result","handleSubmit","event","preventDefault","data","name","method","headers","body","JSON","stringify","console","log","concat","handleDelete","id","filter","author","map","target"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,OAAO,WAAP;;AAEA,SAASC,GAAT,GAAe;AAAA,0BACiBF,KAAK,CAACG,QAAN,CAAe,EAAf,CADjB;AAAA;AAAA,QACNC,OADM;AAAA,QACGC,UADH;;AAAA,2BAEaL,KAAK,CAACG,QAAN,CAAe,EAAf,CAFb;AAAA;AAAA,QAENG,KAFM;AAAA,QAECC,QAFD;;AAIbP,EAAAA,KAAK,CAACQ,SAAN,CAAgB,MAAM;AACpBC,IAAAA,KAAK,CAAC,+BAAD,CAAL,CACGC,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,MAAM,IAAI;AACdR,MAAAA,UAAU,CAACQ,MAAD,CAAV;AACD,KAJH;AAKD,GAND,EAMG,EANH;;AAQA,QAAMC,YAAY,GAAGC,KAAK,IAAI;AAC5BA,IAAAA,KAAK,CAACC,cAAN;;AAEA,QAAIV,KAAK,IAAIA,KAAK,KAAK,EAAvB,EAA2B;AACzB,YAAMW,IAAI,GAAG;AACXC,QAAAA,IAAI,EAAEZ;AADK,OAAb;AAGAG,MAAAA,KAAK,CAAC,+BAAD,EAAkC;AACrCU,QAAAA,MAAM,EAAE,MAD6B;AAErCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAF4B;AAKrCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AAL+B,OAAlC,CAAL,CAOGP,IAPH,CAOQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPf,EAQGF,IARH,CAQQG,MAAM,IAAI;AACdW,QAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAZ;AACAR,QAAAA,UAAU,CAACD,OAAO,CAACsB,MAAR,CAAe,CAACb,MAAD,CAAf,CAAD,CAAV;AACD,OAXH;AAYD;AACF,GApBD;;AAsBA,QAAMc,YAAY,GAAGC,EAAE,IAAI;AACzBnB,IAAAA,KAAK,yCAAkCmB,EAAlC,GAAwC;AAC3CT,MAAAA,MAAM,EAAE;AADmC,KAAxC,CAAL,CAGGT,IAHH,CAGQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHf,EAIGF,IAJH,CAIQG,MAAM,IAAI;AACdR,MAAAA,UAAU,CAACD,OAAO,CAACyB,MAAR,CAAeC,MAAM,IAAIA,MAAM,CAACF,EAAP,KAAcA,EAAvC,CAAD,CAAV;AACD,KANH;AAOD,GARD;;AAUA,SACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxB,OAAO,CAAC2B,GAAR,CAAYD,MAAM,IACjB,oBAAC,IAAD;AAAM,IAAA,GAAG,EAAEA,MAAM,CAACF,EAAlB;AAAsB,IAAA,KAAK,EAAEE,MAAM,CAACZ,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CADF,EAOE;AAAM,IAAA,QAAQ,EAAEJ,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAER,KADT;AAEE,IAAA,QAAQ,EAAES,KAAK,IAAIR,QAAQ,CAACQ,KAAK,CAACiB,MAAN,CAAa1B,KAAd,CAF7B;AAGE,IAAA,WAAW,EAAC,mBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAME;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,CAPF,CADF,CADF;AAoBD;;AAED,eAAeJ,GAAf","sourcesContent":["import React from \"react\";\nimport Item from \"./components/item\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const [authors, setAuthors] = React.useState([]);\n  const [value, setValue] = React.useState(\"\");\n\n  React.useEffect(() => {\n    fetch(\"http://localhost:3001/authors\")\n      .then(res => res.json())\n      .then(result => {\n        setAuthors(result);\n      });\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (value && value !== \"\") {\n      const data = {\n        name: value\n      };\n      fetch(\"http://localhost:3001/authors\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      })\n        .then(res => res.json())\n        .then(result => {\n          console.log(result);\n          setAuthors(authors.concat([result]));\n        });\n    }\n  };\n\n  const handleDelete = id => {\n    fetch(`http://localhost:3001/authors/${id}`, {\n      method: \"DELETE\"\n    })\n      .then(res => res.json())\n      .then(result => {\n        setAuthors(authors.filter(author => author.id !== id));\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <ul>\n          {authors.map(author => (\n            <Item key={author.id} value={author.name} />\n          ))}\n        </ul>\n\n        <form onSubmit={handleSubmit}>\n          <input\n            value={value}\n            onChange={event => setValue(event.target.value)}\n            placeholder=\"input author name\"\n          />\n          <button type=\"submit\">Submit</button>\n        </form>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}